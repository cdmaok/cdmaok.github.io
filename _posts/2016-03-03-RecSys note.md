---
layout: post
title: RecSys note
category: RecSys
description: 推荐系统实践 这本书的简单小结。
---

From 《推荐系统实践》

## 评价指标
* 准确率 推荐的列表和实际发生行为的列表  
* 召回率 推荐的列表和实际发生行为的列表  
* 覆盖率 反映了推荐算法 **挖掘长尾** 的能力，所有被推荐的东西的并集 / 全集
* 流行度 和当今热门的相同程度

## CF  

### UserCF   
用户相似度的改进： 对热门物品的行为进行降权，如果一些必需品i大家都买了，其实不应该计算入内，权重记为 1/(log(1+ N(i)))
着重于反映小群体的热点  

### ItemCF    
物品相似度的改进： 相似度物品的计算特征不是物品本身的属性，而是用户的行为特征，那么对于一些活跃用户，比如书店，喜欢所有的书，那么他的行为特征应该降权，1/(log(1+N))
着重于维护自己的历史兴趣，反映自己的历史传承  

两种CF的选择，主要看item的性质，如果item是新闻之类具有时效性的东西，item相似度的计算显得不靠谱，需要选择UserCF，参看![CF-compare][CF-comapre]

![new sim function](http://7xpv97.com1.z0.glb.clouddn.com/1f0d38ae14b29c7833e2174e888a87dc.png)


## LFM(Latent Factor Model)
通俗的讲就是矩阵分解，添加一个维度--分类，推荐的时候通过分类进行引导。  

### 负样本采样  
日志中只有购买和点击记录，需要明确用户讨厌那些物品，原则是对每个用户保证正负样本的平衡，选取很热门，而用户却没有行为的物品
需要迭代，因此需要的时间复杂度较高，但空间复杂度较低，跟主题数目K有关，不能实时更新，由于是自主学习，很难用自然语言解释推荐的原因

## Graph-Based Algorithm
有两类点，一种是用户，一种是物品，如果用户u在物品i上发生过行为，那么这两点之间有一条连线，如此一来，就成了二部图。根据随机游走模型和类似于PageRank的思想，可以对物品进行一个rank。代表算法是simrank，在新的维度下面给出一个相似度矩阵。

![route recsys](http://7xpv97.com1.z0.glb.clouddn.com/7464038f4a07c0b62ca87ddcb0355f16.png)



大型的推荐系统通常分成两个部分，一个部分是召回，另外一个部分是排序

1.决定维度的三种方案，一种是属性值，一种是统计值，一种是embedding之后的向量


文本结构化算法
1. 关键词提取 TF-IDF,TextRank
2. 实体识别 基于词典的方法结合CRF模型  主要是用 spacy 或者nltk
3. 内容分类体系，根据已有的分类树进行构造  短文本主要使用svm，或者是facebook开源的fasttext
4. 文本聚类 相对较少主要被lda取代
5. 主题模型 gensim plda
6. 词嵌入   word2vec glove
   
对上述选择出来的文本进行特征选择，主要是有监督算法，例如卡方检验，信息熵等

